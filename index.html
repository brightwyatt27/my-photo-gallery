<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Travel Gallery</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
<style>
* { box-sizing:border-box; margin:0; padding:0; }
html { scroll-behavior:smooth; }
body { font-family:'Didot', serif; background:#fff; color:#202123; text-align:center; }

.hero { height:100vh; width:100%; background:url("006368-R1-E008.jpg") no-repeat center/cover; display:flex; align-items:flex-start; justify-content:flex-start; padding:15vh 6% 0 6%; }
.hero-content { text-align:left; color:white; max-width:600px; }
.hero h1 { font-family:'Montserrat',sans-serif; font-weight:600; font-size:5rem; line-height:1.1; }
.hero p { font-family:'Montserrat',sans-serif; font-weight:400; font-size:1.2rem; margin-top:10px; }
.enter-btn, #postcards-btn { display:inline-block; margin-top:20px; padding:12px 24px; background:#b5c6da; color:#202123; font-family:'Montserrat',sans-serif; font-weight:700; text-decoration:none; border-radius:6px; transition:0.3s; cursor:pointer; }
.enter-btn:hover, #postcards-btn:hover { background:#8ea4bd; }

h2 { color:#202123; margin-bottom:20px; }
.album-container { max-width:96vw; margin:40px auto 60px; }
.slider { position:relative; overflow:hidden; box-shadow:0 6px 15px rgba(0,0,0,0.3); }
.slides { display:flex; transition:transform 0.5s ease; will-change:transform; }
.slides img { flex:0 0 100%; width:100%; max-height:80vh; object-fit:cover; cursor:pointer; }
.nav-button { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.4); color:white; border:none; padding:10px 20px; cursor:pointer; font-size:24px; z-index:2; }
.nav-button:hover{background:rgba(0,0,0,0.7);}
.prev{left:10px;} .next{right:10px;}

.bubbles { display:flex; justify-content:center; gap:8px; margin-top:10px; }
.bubbles span { width:12px; height:12px; border-radius:50%; background:#888; display:inline-block; cursor:pointer; transition:0.3s; }
.bubbles span.active{background:#b5c6da;}

#post-cards { display:none; margin:80px auto; max-width:96vw; position:relative; }
#post-cards h2{margin-bottom:20px;}
#post-cards .back-to-gallery { position:absolute; top:10px; right:10px; z-index:10; background:#b5c6da; color:#202123; border:none; border-radius:6px; padding:10px 15px; font-family:'Montserrat',sans-serif; font-weight:700; cursor:pointer; }
#post-cards .back-to-gallery:hover { background:#8ea4bd; }

.mini-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; }
.mini-grid img { width:100%; aspect-ratio:4/3; object-fit:cover; cursor:pointer; }

.zoom-overlay {
  position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.8);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}

.zoom-card {
  perspective:1000px;
  max-width:90vw; max-height:90vh;
}

.zoom-card-inner {
  position:relative;
  width:100%; height:100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  cursor:pointer;
}

.zoom-card-inner.flipped { transform: rotateY(180deg); }

.zoom-card img {
  width:100%; height:auto; max-height:90vh; display:block; object-fit:contain;
  backface-visibility:hidden; border-radius:5px;
}

.zoom-card .back {
  position:absolute;
  top:0; left:0;
  transform: rotateY(180deg);
}

.close-zoom { position:absolute; top:20px; right:20px; background:#b5c6da; color:#202123; border:none; border-radius:5px; padding:10px 15px; font-weight:600; cursor:pointer; z-index:1001; }
.close-zoom:hover { background:#8ea4bd; }

/* Responsive adjustments */
@media (max-width: 1024px) {
  .hero h1 { font-size:4rem; }
  .hero p { font-size:1.1rem; }
}
@media (max-width: 768px) {
  .hero { padding:5vh 4% 0 4%; background-size:cover; background-position:center; }
  .hero h1 { font-size:2.4rem; }
  .hero p { font-size:0.95rem; }
  .enter-btn, #postcards-btn { padding:8px 12px; font-size:14px; }

  .slider img { max-height:65vh; }
  .nav-button { display:none; } /* hide arrows on mobile */
  .bubbles { margin-top:6px; justify-content:center; }
  .bubbles span { width:7px; height:7px; opacity:0.3; pointer-events:none; }
}

@media (max-width: 480px) {
  .mini-grid { grid-template-columns:repeat(auto-fit,minmax(100px,1fr)); }
}
</style>
</head>
<body>

<section class="hero">
  <div class="hero-content">
    <h1>Wyatt Bright</h1>
    <p>Travel & Adventure Photographer</p>
    <a href="#gallery" class="enter-btn">Enter Gallery</a>
    <button id="postcards-btn">Post Cards</button>
  </div>
</section>

<section id="gallery">
  <h1>My Travel Photo Gallery</h1>

  <div class="album-container">
    <h2>Arizona Trip</h2>
    <div class="slider" data-index="0">
      <div class="slides">
        <img src="005263-R1-015-6.jpg" alt="Arizona 1">
        <img src="005263-R1-019-8.jpg" alt="Arizona 2">
        <img src="005263-R1-055-26.jpg" alt="Arizona 3">
      </div>
      <button class="nav-button prev" aria-label="Previous slide">&#10094;</button>
      <button class="nav-button next" aria-label="Next slide">&#10095;</button>
    </div>
    <div class="bubbles"></div>
  </div>

  <div class="album-container">
    <h2>Canyonlands</h2>
    <div class="slider" data-index="0">
      <div class="slides">
        <img src="005263-R1-005-1.jpg" alt="Canyonlands 1">
        <img src="005263-R1-011-4.jpg" alt="Canyonlands 2">
        <img src="005263-R1-013-5.jpg" alt="Canyonlands 3">
      </div>
      <button class="nav-button prev" aria-label="Previous slide">&#10094;</button>
      <button class="nav-button next" aria-label="Next slide">&#10095;</button>
    </div>
    <div class="bubbles"></div>
  </div>
</section>

<section id="post-cards">
  <button class="back-to-gallery">Back to Gallery</button>
  <h2>Post Cards</h2>
  <div class="mini-grid">
    <img src="005263-R1-015-6.jpg">
    <img src="005263-R1-019-8.jpg">
    <img src="005263-R1-055-26.jpg">
    <img src="005263-R1-005-1.jpg">
    <img src="005263-R1-011-4.jpg">
    <img src="005263-R1-013-5.jpg">
    <img src="005263-R1-015-6.jpg">
    <img src="005263-R1-019-8.jpg">
    <img src="005263-R1-055-26.jpg">
    <img src="005263-R1-005-1.jpg">
  </div>
</section>

<script>
// Post Cards toggle
const postcardsBtn = document.getElementById('postcards-btn');
const postCards = document.getElementById('post-cards');
const hero = document.querySelector('.hero');
const gallery = document.getElementById('gallery');
const backToGallery = document.querySelector('#post-cards .back-to-gallery');

postcardsBtn.addEventListener('click', () => {
  hero.style.display = 'none';
  gallery.style.display = 'none';
  postCards.style.display = 'block';
  window.scrollTo({top:0,behavior:'smooth'});
});

backToGallery.addEventListener('click', () => {
  postCards.style.display = 'none';
  hero.style.display = 'flex';
  gallery.style.display = 'block';
  window.scrollTo({top:0,behavior:'smooth'});
});

// Slider navigation and bubbles
document.querySelectorAll('.slider').forEach(slider => {
  const slides = slider.querySelector('.slides');
  const images = Array.from(slides.querySelectorAll('img'));
  const prevBtn = slider.querySelector('.prev');
  const nextBtn = slider.querySelector('.next');
  const bubbleContainer = slider.parentElement.querySelector('.bubbles');
  let index = Math.max(0, parseInt(slider.dataset.index) || 0);
  const slideCount = images.length;

  // build bubbles
  bubbleContainer.innerHTML = '';
  images.forEach((_, i) => {
    const bubble = document.createElement('span');
    if (i === index) bubble.classList.add('active');
    bubbleContainer.appendChild(bubble);
    // clickable bubbles (optional): jump to that slide
    bubble.addEventListener('click', () => {
      index = i;
      updateSlide();
    });
  });
  const bubbles = bubbleContainer.querySelectorAll('span');

  // helper to get slider visible width
  const slideWidth = () => Math.round(slider.getBoundingClientRect().width);

  // update transform (uses px so it's exact)
  const updateSlide = () => {
    slides.style.transition = 'transform 0.45s ease';
    slides.style.transform = `translateX(-${index * slideWidth()}px)`;
    bubbles.forEach((b,i)=> b.classList.toggle('active', i === index));
    slider.dataset.index = index;
  };

  // initialize
  // ensure the initial transform uses pixels (in case the layout changed)
  // wait a tick in case images/layout haven't finished rendering
  setTimeout(updateSlide, 20);

  // resize: keep slide aligned when orientation or width changes
  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(updateSlide, 80);
  });

  // desktop arrows
  if (prevBtn) prevBtn.addEventListener('click', () => { index = (index - 1 + slideCount) % slideCount; updateSlide(); });
  if (nextBtn) nextBtn.addEventListener('click', () => { index = (index + 1) % slideCount; updateSlide(); });

  // robust touch handling for mobile
  let startX = 0;
  let startY = 0;
  let isSwiping = false;

  slides.addEventListener('touchstart', e => {
    if (!e.touches || e.touches.length > 1) return;
    startX = e.touches[0].clientX;
    startY = e.touches[0].clientY;
    isSwiping = false;
    // temporarily disable CSS transition while user may drag (keeps movement crisp)
    slides.style.transition = 'none';
  }, { passive: true });

  slides.addEventListener('touchmove', e => {
    if (!e.touches || e.touches.length > 1) return;
    const currentX = e.touches[0].clientX;
    const currentY = e.touches[0].clientY;
    const dx = currentX - startX;
    const dy = currentY - startY;

    // start horizontal swipe detection if horizontal movement is dominant
    if (!isSwiping) {
      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 10) {
        isSwiping = true;
      } else {
        return; // let page scroll vertically
      }
    }

    // prevent vertical page scroll when swiping horizontally
    e.preventDefault();

    // optional: live-drag effect (small and smooth)
    const offset = -index * slideWidth() + -dx; // dx is currentX - startX; negative when swiping left
    slides.style.transform = `translateX(${offset}px)`;
  }, { passive: false });

  slides.addEventListener('touchend', e => {
    // restore transition
    slides.style.transition = 'transform 0.45s ease';

    if (!e.changedTouches || e.changedTouches.length === 0) {
      updateSlide();
      return;
    }

    const endX = e.changedTouches[0].clientX;
    const diff = startX - endX;
    const absDiff = Math.abs(diff);
    const threshold = Math.max(50, slideWidth() * 0.12); // require stronger swipe on big screens

    if (isSwiping && absDiff > threshold) {
      if (diff > 0) {
        // swipe left -> next
        index = Math.min(index + 1, slideCount - 1);
      } else {
        // swipe right -> prev
        index = Math.max(index - 1, 0);
      }
    }
    // snap to chosen slide
    updateSlide();
    isSwiping = false;
  }, { passive: true });

  slides.addEventListener('touchcancel', () => {
    slides.style.transition = 'transform 0.45s ease';
    updateSlide();
    isSwiping = false;
  });
});

// Post Card Zoom + Flip
document.querySelectorAll('.mini-grid img').forEach(img=>{
  img.addEventListener('click',()=>openZoomCard(img));
});

function openZoomCard(img){
  const overlay = document.createElement('div'); overlay.className='zoom-overlay';
  const zoomCard = document.createElement('div'); zoomCard.className='zoom-card';
  const inner = document.createElement('div'); inner.className='zoom-card-inner';

  const front = document.createElement('img'); front.src = img.src; front.className='front';
  const back = document.createElement('img'); back.src = '005263-R1-011-4.jpg'; back.className='back';

  inner.appendChild(front); inner.appendChild(back);
  zoomCard.appendChild(inner);
  overlay.appendChild(zoomCard);

  const closeBtn = document.createElement('button'); closeBtn.textContent = 'Close'; closeBtn.className = 'close-zoom';
  closeBtn.addEventListener('click',()=>overlay.remove());
  overlay.appendChild(closeBtn);

  inner.addEventListener('click', e=>{
    if(e.target===closeBtn) return;
    inner.classList.toggle('flipped');
  });

  document.body.appendChild(overlay);
}
</script>
</body>
</html>
